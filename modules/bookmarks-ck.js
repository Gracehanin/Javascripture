/*global javascripture*/javascripture.modules.bookmarks={init:function(){var e=[];localStorage.bookmarks||(localStorage.bookmarks=JSON.stringify(e));this.render()},getLocalStorage:function(){return JSON.parse(localStorage.bookmarks)},saveLocalStorage:function(e){localStorage.bookmarks=JSON.stringify(e)},addToPage:function(e){$(".bookmarks").append('<li><a href="#'+javascripture.modules.reference.createReferenceLink(e)+'">'+e.book+" "+e.chapter+":"+e.verse+"</a></li>")},add:function(){var e=this.getLocalStorage(),t=javascripture.modules.reference.getReferenceFromHash();e.push(t);this.saveLocalStorage(e);this.addToPage(t)},remove:function(e){var t=this.getLocalStorage();t.filter(function(t,n){return n===e?!1:!0});this.saveLocalStorage(t);this.render()},render:function(){var e=this.getLocalStorage(),t="";e.forEach(function(e){t+='<li><a href="#'+javascripture.modules.reference.createReferenceLink(e)+'">'+e.book+" "+e.chapter+":"+e.verse+"</a></li>"});$(".bookmarks").html(t)}};$(".bookmark-current-passage").on("click",function(){javascripture.modules.bookmarks.add()});javascripture.modules.bookmarks.init();