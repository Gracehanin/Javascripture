/*global javascripture*/javascripture.modules.bookmarks={init:function(){var e=[],t=this;if(localStorage.bookmarks){e=this.getLocalStorage();e.forEach(function(e){t.addToPage(e)})}else localStorage.bookmarks=JSON.stringify([])},getLocalStorage:function(){return JSON.parse(localStorage.bookmarks)},saveLocalStorage:function(e){localStorage.bookmarks=JSON.stringify(e)},addToPage:function(e){var t=javascripture.modules.reference.getReferenceFromUrl(e);$(".bookmarks").append('<li><a href="'+e+'">'+t.book+" "+t.chapter+":"+t.verse+"</a></li>")},add:function(){var e=this.getLocalStorage();e.push(window.location.hash);this.saveLocalStorage(e);this.addToPage(window.location.hash)}};$(".bookmark-current-passage").on("click",function(){javascripture.modules.bookmarks.add()});javascripture.modules.bookmarks.init();