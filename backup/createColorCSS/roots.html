<script src="jquery.js"></script>
<script src="json2.js"></script>
<script src="strongsObjectRoots.js"></script>
<script>
var newStrongsObject = new Object();
var details = new Object();
var families = new Array();
var getRoots = function(root, rootArray) {
	//if(root is in rootArray)
	$.each(root, function(key, value) {
		$.each(rootArray, function(key2, value2) {
			if(value == value2) {
			console.log(value);
				//rootArray.push(value);
			}
		});
	});

//	if(1==1) {
//		console.log(root[0]);
//		console.log(rootArray[0]);
//		return rootArray[rootArray.length - 1];
//	} else {
		$.each(root, function(key, value) {
			rootArray.push(value);
		});
		if(rootArray.length > 1 && strongsObject[rootArray[0]]) {
			console.log(strongsObject[rootArray[0]]);
			console.log(rootArray);
			//getRoots(strongsObject[rootArray[0]],rootArray);
		} else {
			return rootArray[0];
		}
//	}
/*	console.log(number);
	if(strongsObject[number]) {
		console.log(strongsObject[number]);
		$.each(strongsObject[number], function(key, value) {
			rootArray.push(value);
			//console.log(rootArray);
		});
		if(rootArray) {
			if(rootArray.length > 0 && rootArray[0] != rootArray[rootArray.length - 1]) {
				console.log(rootArray[0]+'here');
				getRoots(rootArray[0], rootArray);
			}
		}	
	} else {
		return number;
	}*/
}
$.each(strongsObject, function(index, root) {
	var details = new Object();
	if(root!="") {
		var rootArray = Array();
		details['family'] = getRoots(root, rootArray);
/*		if(getRoots(root)) {
			details['family'] = getRoots(root)[0];
		} else { 
			details['family'] = root[0];
		}*/
		details['roots'] = root
	} else {
		details['family'] = index
	}
	newStrongsObject[index] = details;
});
document.write(JSON.stringify(newStrongsObject));
//console.log(families.length);
//console.log(families);
//console.log(GreekFamilies.length);
</script>