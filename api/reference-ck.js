/*globals javascripture bible*/javascripture.api.reference={getThreeChapters:function(e){var t=this,n=e.book,r=e.chapter,i=e.verse,s=t.getOffsetChapter(e,-1),o=t.getOffsetChapter(e,1),u={};s.book&&(u.prev=s);o.book&&(u.next=o);javascripture.data.hebrew[n]?u.testament="hebrew":u.testament="greek";u.chapters=[];s.book&&u.chapters.push(javascripture.api.reference.getChapterData(s));u.chapters.push(javascripture.api.reference.getChapterData(e));o.book&&u.chapters.push(javascripture.api.reference.getChapterData(o));return u},getChapterData:function(e){var t=this,n=e.book,r=e.chapter,i=e.verse,s=r-1,o={};javascripture.data.hebrew[n]?testament="hebrew":testament="greek";if(javascripture.data[e.version][n][s]){o.translation=javascripture.data[e.version][n][s];javascripture.data[testament][n]&&javascripture.data[testament][n][s]&&(o.original=javascripture.data[testament][n][s])}return o},getOffsetChapter:function(e,t){var n=e.book,r=e.chapter,i={version:e.version},s=parseInt(r,10)+t,o=s-1,u;if(javascripture.data[e.version][n]&&javascripture.data[e.version][n][o]!==undefined){i.book=n;i.chapter=s}else bible.Data.books.forEach(function(e,r){if(e[0]===n){u=r+t;if(bible.Data.books[u]!==undefined){i.book=bible.Data.books[u][0];t>0?i.chapter=1:i.chapter=bible.Data.verses[u].length}}});return i}};